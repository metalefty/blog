+++
date = "2018-01-31"
draft = false
lastmod = "2018-01-31T17:19:23+09:00"
tags = ["UNIX", "Linux", "FreeBSD"]
title = "実行中のプロセスの環境変数を調べる"
+++

いつも忘れるのでメモ。

## Linuxの場合

procfsを参照すればわかるが、いい感じに表示するためにodを使う。

```
od -S1 /proc/<pid>/environ
```

ref: https://qiita.com/Sheile/items/93171a2c428710700469

## FreeBSDの場合

FreeBSDの場合はprocfsがないとは言わないが、procfsをマウントしても **/proc/<pid>** 以下に environ がなく環境変数を取得できない。

このため、baseに含まれるprocstatを使って調べる。

```
procstat -S1 -e <pid>
```

## その他

macOSを含む各OS共通で **ps eww <pid>** でもいける。見た目が見やすいのはLinuxのprocfsに頼った方法なので、他のOSでいい感じに表示するにはどうしよう。

